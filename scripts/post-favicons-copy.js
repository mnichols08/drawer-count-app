// Copy Android Chrome icons generated by `favicons` to the names used in manifest
// Produces: src/icons/icon-192.png and src/icons/icon-512.png
const fs = require('fs');
const path = require('path');

const iconsDir = path.join(__dirname, '..', 'src', 'icons');
if (!fs.existsSync(iconsDir)) process.exit(0);

const map = {
  'android-chrome-192x192.png': 'icon-192.png',
  'android-chrome-512x512.png': 'icon-512.png'
};

for (const [from, to] of Object.entries(map)) {
  const src = path.join(iconsDir, from);
  const dest = path.join(iconsDir, to);
  if (fs.existsSync(src)) {
    fs.copyFileSync(src, dest);
    console.log(`Wrote ${path.relative(process.cwd(), dest)}`);
  } else {
    console.warn(`Missing ${from} (run favicons first).`);
  }
}
